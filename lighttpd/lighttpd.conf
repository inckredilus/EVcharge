# ---------------------------------------------------------
# EVcharge - lighttpd configuration
# Serves React frontend + executes CGI backend
# ---------------------------------------------------------

server.modules = (
  "mod_access",   # basic access control
  "mod_alias",    # URL path mapping
  "mod_cgi"       # enable CGI execution
)

# Serve React build files from this directory
server.document-root = "/data/data/com.termux/files/home/EVcharge/www"

# HTTP port (change for test vs production if needed)
server.port = 8081

# Listen on all interfaces (127.0.0.1 and LAN IP)
server.bind = "0.0.0.0"

# Default file when opening root URL
index-file.names = ( "index.html" )

# Map /cgi-bin/ URL path to actual executable directory
alias.url = (
  "/cgi-bin/" => "/data/data/com.termux/files/home/EVcharge/cgi-bin/"
)

# Treat .cgi files as executable scripts
cgi.assign = (
  ".cgi" => ""
)
